<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>UPCIEDEV PCI Express Universal driver: pciedev_io.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">UPCIEDEV PCI Express Universal driver
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">pciedev_io.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="pciedev__io_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef _PCIEDEV_IO_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define _PCIEDEV_IO_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;linux/types.h&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;linux/ioctl.h&gt;</span> <span class="comment">/* needed for the _IOW etc stuff used later */</span>
<a name="l00006"></a>00006 
<a name="l00007"></a><a class="code" href="pciedev__io_8h.html#a3494a27985916bbb418d9c6557985c15">00007</a> <span class="preprocessor">#define RW_D8        0x0</span>
<a name="l00008"></a><a class="code" href="pciedev__io_8h.html#abc50dc315c651c129149ea8f543e23ea">00008</a> <span class="preprocessor"></span><span class="preprocessor">#define RW_D16      0x1</span>
<a name="l00009"></a><a class="code" href="pciedev__io_8h.html#a95cac24787550ae06eb2cd33b0d92194">00009</a> <span class="preprocessor"></span><span class="preprocessor">#define RW_D32      0x2</span>
<a name="l00010"></a><a class="code" href="pciedev__io_8h.html#a3afe2693cdc01fee9aa769f889e9f690">00010</a> <span class="preprocessor"></span><span class="preprocessor">#define RW_DMA     0x3</span>
<a name="l00011"></a><a class="code" href="pciedev__io_8h.html#a8ee8c3c02591a6a47113a0e59b88936a">00011</a> <span class="preprocessor"></span><span class="preprocessor">#define RW_INFO    0x4</span>
<a name="l00012"></a><a class="code" href="pciedev__io_8h.html#aa293c11b73c1e8a741c9060d8ef1c021">00012</a> <span class="preprocessor"></span><span class="preprocessor">#define DMA_DATA_OFFSET             6 </span>
<a name="l00013"></a><a class="code" href="pciedev__io_8h.html#a9fa9f95b2d69f5b07cb9cb30b1ba9afe">00013</a> <span class="preprocessor"></span><span class="preprocessor">#define DMA_DATA_OFFSET_BYTE  24</span>
<a name="l00014"></a><a class="code" href="pciedev__io_8h.html#acf195079e65702428087887dd5649ffc">00014</a> <span class="preprocessor"></span><span class="preprocessor">#define PCIEDEV_DMA_SYZE                    4096</span>
<a name="l00015"></a><a class="code" href="pciedev__io_8h.html#a6df179f336e65ab5b64801ca0f9818d2">00015</a> <span class="preprocessor"></span><span class="preprocessor">#define PCIEDEV_DMA_MIN_SYZE           128</span>
<a name="l00016"></a>00016 <span class="preprocessor"></span>
<a name="l00017"></a><a class="code" href="pciedev__io_8h.html#a314ade3cefcb60fbf18f80c8eba4b54c">00017</a> <span class="preprocessor">#define IOCTRL_R      0x00</span>
<a name="l00018"></a><a class="code" href="pciedev__io_8h.html#a35ef23c334a9de2bfddddf640577d972">00018</a> <span class="preprocessor"></span><span class="preprocessor">#define IOCTRL_W     0x01</span>
<a name="l00019"></a><a class="code" href="pciedev__io_8h.html#a1dc1215c881918ae78af0f20713b05a5">00019</a> <span class="preprocessor"></span><span class="preprocessor">#define IOCTRL_ALL  0x02</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span>
<a name="l00021"></a><a class="code" href="pciedev__io_8h.html#a1fce441aaa962f572d643140658a6e4c">00021</a> <span class="preprocessor">#define BAR0 0</span>
<a name="l00022"></a><a class="code" href="pciedev__io_8h.html#a4ceeca7cc9bab8b697f8a49f79037010">00022</a> <span class="preprocessor"></span><span class="preprocessor">#define BAR1 1</span>
<a name="l00023"></a><a class="code" href="pciedev__io_8h.html#a44fa2ca32ff22e5eb7fa28ef39e50780">00023</a> <span class="preprocessor"></span><span class="preprocessor">#define BAR2 2</span>
<a name="l00024"></a><a class="code" href="pciedev__io_8h.html#a7f201c103377c8f3c84f10576e63e7af">00024</a> <span class="preprocessor"></span><span class="preprocessor">#define BAR3 3</span>
<a name="l00025"></a><a class="code" href="pciedev__io_8h.html#ace7f77e5691514de1c5a1f8c16d3025c">00025</a> <span class="preprocessor"></span><span class="preprocessor">#define BAR4 4</span>
<a name="l00026"></a><a class="code" href="pciedev__io_8h.html#a7473bbc92af15efd739f5c06409d8bc4">00026</a> <span class="preprocessor"></span><span class="preprocessor">#define BAR5 5</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span>
<a name="l00028"></a>00028 <span class="comment">/* generic register access */</span>
<a name="l00029"></a><a class="code" href="structdevice__rw.html">00029</a> <span class="keyword">struct </span><a class="code" href="structdevice__rw.html">device_rw</a>  {
<a name="l00030"></a><a class="code" href="structdevice__rw.html#ab06d43634d5687872ab483eb4dd96a29">00030</a>        u_int            <a class="code" href="structdevice__rw.html#ab06d43634d5687872ab483eb4dd96a29">offset_rw</a>; <span class="comment">/* offset in address                       */</span>
<a name="l00031"></a><a class="code" href="structdevice__rw.html#a4731025369481beeaa5c408775ad2a7e">00031</a>        u_int            <a class="code" href="structdevice__rw.html#a4731025369481beeaa5c408775ad2a7e">data_rw</a>;   <span class="comment">/* data to set or returned read data       */</span>
<a name="l00032"></a><a class="code" href="structdevice__rw.html#afed29415714fb813dea1c933ef904a2c">00032</a>        u_int            <a class="code" href="structdevice__rw.html#afed29415714fb813dea1c933ef904a2c">mode_rw</a>;   <span class="comment">/* mode of rw (RW_D8, RW_D16, RW_D32)      */</span>
<a name="l00033"></a><a class="code" href="structdevice__rw.html#ae382b34e69e05728f9a046ae0cf53c3a">00033</a>        u_int            <a class="code" href="structdevice__rw.html#ae382b34e69e05728f9a046ae0cf53c3a">barx_rw</a>;   <span class="comment">/* BARx (0, 1, 2, 3, 4, 5)                 */</span>
<a name="l00034"></a><a class="code" href="structdevice__rw.html#ad9348912dabb0b218d0c500c66dda20d">00034</a>        u_int            <a class="code" href="structdevice__rw.html#ad9348912dabb0b218d0c500c66dda20d">size_rw</a>;   <span class="comment">/* transfer size in bytes                  */</span>             
<a name="l00035"></a><a class="code" href="structdevice__rw.html#ad00399557d63fd24a5301204a7631c52">00035</a>        u_int            <a class="code" href="structdevice__rw.html#ad00399557d63fd24a5301204a7631c52">rsrvd_rw</a>;  <span class="comment">/* transfer size in bytes                  */</span>
<a name="l00036"></a>00036 };
<a name="l00037"></a><a class="code" href="pciedev__io_8h.html#a198b5f4fef9dff99b6c27836f972bc19">00037</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdevice__rw.html">device_rw</a> <a class="code" href="structdevice__rw.html">device_rw</a>;
<a name="l00038"></a>00038 
<a name="l00039"></a><a class="code" href="structdevice__ioctrl__data.html">00039</a> <span class="keyword">struct </span><a class="code" href="structdevice__ioctrl__data.html">device_ioctrl_data</a>  {
<a name="l00040"></a><a class="code" href="structdevice__ioctrl__data.html#aa0b658a92f878b772eacf929ffe1e180">00040</a>         u_int    <a class="code" href="structdevice__ioctrl__data.html#aa0b658a92f878b772eacf929ffe1e180">offset</a>;
<a name="l00041"></a><a class="code" href="structdevice__ioctrl__data.html#a99d6274576188aeea8225493378b04ec">00041</a>         u_int    <a class="code" href="structdevice__ioctrl__data.html#a99d6274576188aeea8225493378b04ec">data</a>;
<a name="l00042"></a><a class="code" href="structdevice__ioctrl__data.html#abce7358be06d7ce7e756fe02c25c187e">00042</a>         u_int    <a class="code" href="structdevice__ioctrl__data.html#abce7358be06d7ce7e756fe02c25c187e">cmd</a>;
<a name="l00043"></a><a class="code" href="structdevice__ioctrl__data.html#ad8ffd816b771df6ef50f7c40166a37a6">00043</a>         u_int    <a class="code" href="structdevice__ioctrl__data.html#ad8ffd816b771df6ef50f7c40166a37a6">reserved</a>;
<a name="l00044"></a>00044 };
<a name="l00045"></a><a class="code" href="pciedev__io_8h.html#a9f5c23857ea399bf4a9bb9652b6d817b">00045</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdevice__ioctrl__data.html">device_ioctrl_data</a> <a class="code" href="structdevice__ioctrl__data.html">device_ioctrl_data</a>;
<a name="l00046"></a>00046 
<a name="l00047"></a><a class="code" href="structdevice__ioctrl__dma.html">00047</a> <span class="keyword">struct </span><a class="code" href="structdevice__ioctrl__dma.html">device_ioctrl_dma</a>  {
<a name="l00048"></a><a class="code" href="structdevice__ioctrl__dma.html#afcf57847c512e334f1a83bd89be950fd">00048</a>         u_int    <a class="code" href="structdevice__ioctrl__dma.html#afcf57847c512e334f1a83bd89be950fd">dma_offset</a>;
<a name="l00049"></a><a class="code" href="structdevice__ioctrl__dma.html#a32b3b16303be485dc116787dc4564bdd">00049</a>         u_int    <a class="code" href="structdevice__ioctrl__dma.html#a32b3b16303be485dc116787dc4564bdd">dma_size</a>;
<a name="l00050"></a><a class="code" href="structdevice__ioctrl__dma.html#a5cce7fa7327b8572fba52bdf18d14b0f">00050</a>         u_int    <a class="code" href="structdevice__ioctrl__dma.html#a5cce7fa7327b8572fba52bdf18d14b0f">dma_cmd</a>;          <span class="comment">// value to DMA Control register</span>
<a name="l00051"></a><a class="code" href="structdevice__ioctrl__dma.html#a1e19c195c09b5115ca42ca5bf7392bd8">00051</a>         u_int    <a class="code" href="structdevice__ioctrl__dma.html#a1e19c195c09b5115ca42ca5bf7392bd8">dma_pattern</a>;     <span class="comment">// DMA BAR num</span>
<a name="l00052"></a><a class="code" href="structdevice__ioctrl__dma.html#a0b2c5967b28765ba545b56dcb88c2762">00052</a>         u_int    <a class="code" href="structdevice__ioctrl__dma.html#a0b2c5967b28765ba545b56dcb88c2762">dma_reserved1</a>; <span class="comment">// DMA Control register offset (31:16) DMA Length register offset (15:0)</span>
<a name="l00053"></a><a class="code" href="structdevice__ioctrl__dma.html#a0796ba7e60f5ed15719a885a871101c5">00053</a>         u_int    <a class="code" href="structdevice__ioctrl__dma.html#a0796ba7e60f5ed15719a885a871101c5">dma_reserved2</a>; <span class="comment">// DMA Read/Write Source register offset (31:16) Destination register offset (15:0)</span>
<a name="l00054"></a>00054 };
<a name="l00055"></a><a class="code" href="pciedev__io_8h.html#a795326190b88aa344d83d5493642a274">00055</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdevice__ioctrl__dma.html">device_ioctrl_dma</a> <a class="code" href="structdevice__ioctrl__dma.html">device_ioctrl_dma</a>;
<a name="l00056"></a>00056 
<a name="l00057"></a><a class="code" href="structdevice__ioctrl__time.html">00057</a> <span class="keyword">struct </span><a class="code" href="structdevice__ioctrl__time.html">device_ioctrl_time</a>  {
<a name="l00058"></a><a class="code" href="structdevice__ioctrl__time.html#a73717c26f9ec75f5b4ea114976a1ba2c">00058</a>         <span class="keyword">struct </span>timeval   <a class="code" href="structdevice__ioctrl__time.html#a73717c26f9ec75f5b4ea114976a1ba2c">start_time</a>;
<a name="l00059"></a><a class="code" href="structdevice__ioctrl__time.html#a04786d897463142079bd0cc2b041efcd">00059</a>         <span class="keyword">struct </span>timeval   <a class="code" href="structdevice__ioctrl__time.html#a04786d897463142079bd0cc2b041efcd">stop_time</a>;
<a name="l00060"></a>00060 };
<a name="l00061"></a><a class="code" href="pciedev__io_8h.html#aba7e14009372d9742940885711d7890e">00061</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdevice__ioctrl__time.html">device_ioctrl_time</a> <a class="code" href="structdevice__ioctrl__time.html">device_ioctrl_time</a>;
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 <span class="comment">/* Use &#39;o&#39; as magic number */</span>
<a name="l00064"></a><a class="code" href="pciedev__io_8h.html#ae4a61739d33de556c654b0b2d3458549">00064</a> <span class="preprocessor">#define PCIEDOOCS_IOC                               &#39;0&#39;</span>
<a name="l00065"></a><a class="code" href="pciedev__io_8h.html#a07aad6c0ab1a1d0386c51904d1d4e481">00065</a> <span class="preprocessor"></span><span class="preprocessor">#define PCIEDEV_PHYSICAL_SLOT            _IOWR(PCIEDOOCS_IOC, 60, int)</span>
<a name="l00066"></a><a class="code" href="pciedev__io_8h.html#a2140cdb4612e1aeb483572affbeb9f20">00066</a> <span class="preprocessor"></span><span class="preprocessor">#define PCIEDEV_DRIVER_VERSION          _IOWR(PCIEDOOCS_IOC, 61, int)</span>
<a name="l00067"></a><a class="code" href="pciedev__io_8h.html#a4209c10c61a2ea367ce7ae1ebaf03ed0">00067</a> <span class="preprocessor"></span><span class="preprocessor">#define PCIEDEV_FIRMWARE_VERSION    _IOWR(PCIEDOOCS_IOC, 62, int)</span>
<a name="l00068"></a><a class="code" href="pciedev__io_8h.html#a2aa7940c0614fa9c0c1031e028db6fc0">00068</a> <span class="preprocessor"></span><span class="preprocessor">#define PCIEDEV_GET_DMA_TIME             _IOWR(PCIEDOOCS_IOC, 70, int)</span>
<a name="l00069"></a><a class="code" href="pciedev__io_8h.html#a6892d9a42c85abdf25bf5998359ba61b">00069</a> <span class="preprocessor"></span><span class="preprocessor">#define PCIEDEV_WRITE_DMA                  _IOWR(PCIEDOOCS_IOC, 71, int)</span>
<a name="l00070"></a><a class="code" href="pciedev__io_8h.html#a0ce58a436c9a78d135964a5b62c0dfd5">00070</a> <span class="preprocessor"></span><span class="preprocessor">#define PCIEDEV_READ_DMA                    _IOWR(PCIEDOOCS_IOC, 72, int)</span>
<a name="l00071"></a><a class="code" href="pciedev__io_8h.html#affbc21ad44dcfae23526e8fb7b77b16c">00071</a> <span class="preprocessor"></span><span class="preprocessor">#define PCIEDEV_SET_IRQ                         _IOWR(PCIEDOOCS_IOC, 73, int)</span>
<a name="l00072"></a><a class="code" href="pciedev__io_8h.html#a1192aa141968a35a6df1c3fed3646f14">00072</a> <span class="preprocessor"></span><span class="preprocessor">#define PCIEDEV_GET_STATUS                 _IOWR(PCIEDOOCS_IOC, 74, int)</span>
<a name="l00073"></a><a class="code" href="pciedev__io_8h.html#aee76447bc6c66911e0012e7cb33b34ac">00073</a> <span class="preprocessor"></span><span class="preprocessor">#define PCIEDEV_SCRATCH_REG             _IOWR(PCIEDOOCS_IOC, 75, int)</span>
<a name="l00074"></a><a class="code" href="pciedev__io_8h.html#aeda3a2a8e04dea1db5bcf4d4cec12688">00074</a> <span class="preprocessor"></span><span class="preprocessor">#define PCIEDOOCS_IOC_MINNR  60</span>
<a name="l00075"></a><a class="code" href="pciedev__io_8h.html#a2adc22a34dd80aeb9090741dad0bf049">00075</a> <span class="preprocessor"></span><span class="preprocessor">#define PCIEDOOCS_IOC_MAXNR 63</span>
<a name="l00076"></a><a class="code" href="pciedev__io_8h.html#a3550d7327b976a7882121d4fb3e9e518">00076</a> <span class="preprocessor"></span><span class="preprocessor">#define PCIEDOOCS_IOC_DMA_MINNR  70</span>
<a name="l00077"></a><a class="code" href="pciedev__io_8h.html#a80b72af01345fd80ba7df7085fe5271b">00077</a> <span class="preprocessor"></span><span class="preprocessor">#define PCIEDOOCS_IOC_DMA_MAXNR 76</span>
<a name="l00078"></a>00078 <span class="preprocessor"></span>
<a name="l00079"></a>00079 <span class="preprocessor">#endif</span>
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 2 2015 15:12:30 for UPCIEDEV PCI Express Universal driver by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
